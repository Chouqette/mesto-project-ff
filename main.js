(()=>{"use strict";var e=function(e,t,n,o){var r=document.getElementById("card-template").content.cloneNode(!0),c=r.querySelector(".card__image"),p=r.querySelector(".card__title"),u=r.querySelector(".card__like-button"),d=r.querySelector(".card__delete-button");return c.src=e.link,c.alt=e.name,p.textContent=e.name,u.addEventListener("click",t),d.addEventListener("click",n),o&&c.addEventListener("click",(function(){o(e)})),r},t=function(e){e.target.classList.toggle("card__like-button_is-active")},n=function(e){var t=e.target.closest(".card");t&&t.remove()},o=function(e){document.querySelector(".places__list").prepend(e)},r=function(e){if(e.target.classList.contains("popup")){var t=document.querySelector(".popup_is-opened");p(t)}},c=function(e){e&&(e.classList.add("popup_is-opened","popup_is-animated"),document.addEventListener("keydown",u),e.addEventListener("click",r))},p=function(e){e&&(e.classList.remove("popup_is-opened","popup_is-animated"),document.removeEventListener("keydown",u),e.removeEventListener("click",r))},u=function(e){if("Escape"===e.key||"Esc"===e.key){var t=document.querySelector(".popup_is-opened");p(t)}},d=(document.getElementById("card-template").content,document.querySelector(".places__list"),document.querySelector(".profile__edit-button")),a=document.querySelector(".profile__add-button"),i=document.querySelector(".popup_type_edit"),l=document.querySelector(".popup_type_new-card"),s=document.querySelectorAll(".popup__close"),_=(document.querySelector(".popup_type_image"),document.querySelector(".popup__input_type_name")),m=document.querySelector(".popup__input_type_description"),y=document.querySelector(".profile__title"),v=document.querySelector(".profile__description"),f=function(e){c(e),e===i&&(_.value=y.textContent,m.value=v.textContent)},k=function(e){p(e)},q=function(e){var t=document.querySelector(".popup_type_image"),n=(t.querySelector(".popup__content_content_image"),t.querySelector(".popup__image")),o=t.querySelector(".popup__caption");n.src=e.link,n.alt=e.name,o.textContent=e.name,c(t)};d.addEventListener("click",(function(){return f(i)})),i.addEventListener("submit",(function(e){e.preventDefault();var t=_.value,n=m.value;y.textContent=t,v.textContent=n,k(i)})),a.addEventListener("click",(function(){return f(l)})),l.addEventListener("submit",(function(r){r.preventDefault();var c=document.querySelector(".popup__input_type_card-name").value,p=document.querySelector(".popup__input_type_url").value,u=e({name:c,link:p},t,n,q);o(u),document.forms["new-place"].reset(),k(l)})),s.forEach((function(e){e.addEventListener("click",(function(){var e=document.querySelector(".popup_is-opened");k(e)}))})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(r){var c=e(r,t,n,q);o(c)}))})();